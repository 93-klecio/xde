{"version":3,"sources":["application/session.js"],"names":[],"mappings":";;;;IAQe,aAAa,qBAA5B,aAA+B;AAC7B,MAAI,QAAQ,GAAG,MAAM,YAAY,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAC7D,MAAI,QAAQ,KAAK,IAAI,EAAE;AACrB,YAAQ,GAAG,cAAc,EAAE,CAAC;AAC5B,UAAM,gBAAgB,CAAC,QAAQ,CAAC,CAAC;GAClC;AACD,SAAO,QAAQ,CAAC;CACjB;;IAEc,gBAAgB,qBAA/B,WAAgC,KAAK,EAAE;AACrC,QAAM,YAAY,CAAC,WAAW,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAClD,SAAO,KAAK,CAAC;CACd;;AApBD,IAAI,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE/B,IAAI,YAAY,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAC;;AAE7C,SAAS,cAAc,GAAW;MAAV,IAAI,yDAAC,GAAG;;AAC9B,SAAO,IAAI,GAAG,GAAG,GAAG,MAAM,CAAC,EAAE,EAAE,CAAC;CACjC;;AAgBD,MAAM,CAAC,OAAO,GAAG;AACf,eAAa,EAAb,aAAa;AACb,kBAAgB,EAAhB,gBAAgB;CACjB,CAAC","file":"application/session.js","sourcesContent":["var slugid = require('slugid');\n\nvar userSettings = require('./userSettings');\n\nfunction _newIdentifier(type='c') {\n  return type + '-' + slugid.v4();\n}\n\nasync function clientIdAsync() {\n  var clientId = await userSettings.getAsync('clientId', null);\n  if (clientId === null) {\n    clientId = _newIdentifier();\n    await setClientIdAsync(clientId);\n  }\n  return clientId;\n}\n\nasync function setClientIdAsync(token) {\n  await userSettings.updateAsync('clientId', token);\n  return token;\n}\n\nmodule.exports = {\n  clientIdAsync,\n  setClientIdAsync,\n};\n"],"sourceRoot":"/source/"}