{"version":3,"sources":["scripts/postinstall.js"],"names":[],"mappings":";;AAAA,IAAI,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;AACzC,IAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACvB,IAAI,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AAClC,IAAI,YAAY,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AAC3C,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC3B,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;;eAMzB,OAAO,CAAC,cAAc,CAAC;;IAHzB,QAAQ,YAAR,QAAQ;IACR,QAAQ,YAAR,QAAQ;IACR,aAAa,YAAb,aAAa;;AAGf,SAAS,qBAAqB,CAAC,OAAO,EAAE;;;AAGrC,MAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,oDAAoD,CAAC,CAAC;;;;;AAKzF,eAAa,CAAC,OAAO,CAAC,CAAC;;CAGxB;;AAED,IAAI;AACF,uBAAqB,CAAC,QAAQ,CAAC,CAAC;AAChC,QAAM,CAAC,KAAK,CAAC,GAAG,CAAC,qCAAqC,CAAC,CAAC;CACzD,CAAC,OAAO,GAAG,EAAE;;AAEZ,QAAM,CAAC,KAAK,CAAC,6CAA6C,EAAE,GAAG,CAAC,CAAC;AACjE,QAAM,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;CACzB","file":"scripts/postinstall.js","sourcesContent":["let crayon = require('@ccheever/crayon');\nlet fs = require('fs');\nlet fsExtra = require('fs-extra');\nlet instapromise = require('instapromise');\nlet path = require('path');\nlet plist = require('plist');\n\nlet {\n  APP_NAME,\n  XDE_ROOT,\n  copyIconsSync,\n} = require('./lib/dotApp');\n\nfunction renameElectronAppSync(newName) {\n  // First move the app folder\n  // let appRoot = path.join(XDE_ROOT, './node_modules/electron-prebuilt/dist/' + APP_NAME + '.app');\n   let appRoot = path.join(XDE_ROOT, './node_modules/electron-prebuilt/dist/Electron.app');\n\n  // await fs.promise.rename(path.join(XDE_ROOT, './node_modules/electron-prebuilt/dist/Electron.app'), appRoot);\n\n  // Install icons\n  copyIconsSync(appRoot);\n  // fsExtra.copySync(path.join(XDE_ROOT, './dev/Design/xde.icns'), path.join(appRoot, 'Contents/Resources/atom.icns'));\n\n}\n\ntry {\n  renameElectronAppSync(APP_NAME);\n  crayon.green.log(\"Copied icons into electron-prebuilt\");\n} catch (err) {\n  // crayon.red.error(\"Failed to rename Electron app to \" + APP_NAME, err);\n  crayon.error(\"Failed to copy icons into electron-prebuilt\", err);\n  crayon.error(err.stack);\n}\n"],"sourceRoot":"/source/"}