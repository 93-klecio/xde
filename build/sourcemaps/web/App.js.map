{"version":3,"sources":["web/App.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;;AAE7B,IAAI,QAAQ,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAC7C,IAAI,UAAU,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;;AAExC,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AACrC,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AACrC,IAAI,cAAc,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;;AAEjD,IAAI,MAAM,GAAG,OAAO,CAAC,4BAA4B,CAAC,CAAC;AACnD,IAAI,aAAa,GAAG,OAAO,CAAC,mCAAmC,CAAC,CAAC;;AAEjE,SAAS,YAAY,CAAC,CAAC,EAAE;AACvB,SAAO,UAAU,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,iBAAiB,EAAE,QAAQ,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,GAAQ,CAAC,CAAC;CACnF;;IAEK,GAAG;YAAH,GAAG;;AAEI,WAFP,GAAG,GAEO;0BAFV,GAAG;;AAGL,+BAHE,GAAG,6CAGG;AACR,QAAI,CAAC,KAAK,GAAG;AACX,wBAAkB,EAAE,IAAI;AACxB,kBAAY,EAAE,EAAE;AAChB,oBAAc,EAAE,EAAE;AAClB,SAAG,EAAE,IAAI;AACT,UAAI,EAAE,KAAK;AACX,cAAQ,EAAE,OAAO;AACjB,SAAG,EAAE,IAAI;AACT,YAAM,EAAE,KAAK;AACb,eAAS,EAAE,IAAI;KAChB,CAAA;;AAED,QAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;AAC5B,QAAI,CAAC,aAAa,GAAG,EAAE,CAAC;AACxB,QAAI,CAAC,cAAc,GAAG,EAAE,CAAC;AACzB,UAAM,CAAC,IAAI,GAAG,IAAI,CAAC;GACpB;;wBApBG,GAAG;;6BAsBiB,aAAG;AACzB,UAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC;AACvC,UAAI,IAAI,GAAG;AACT,YAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI;AACrB,aAAK,EAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,OAAO,AAAC;AACxC,WAAG,EAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,KAAK,AAAC;AACpC,iBAAS,EAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,WAAW,AAAC;AAChD,WAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG;AACnB,cAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM;OAC1B,CAAC;AACF,aAAO,MAAM,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;KACnC;;;WAEuB,oCAAG;;;AACzB,UAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,UAAC,WAAW,EAAK;AAC9C,eAAO,CAAC,GAAG,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;AACzC,cAAK,QAAQ,CAAC,EAAC,GAAG,EAAE,WAAW,EAAC,CAAC,CAAC;OACnC,EAAE,UAAC,GAAG,EAAK;AACV,eAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,GAAG,CAAC,CAAC;OAC7C,CAAC,CAAC;KACJ;;;WAES,sBAAG;;AAEX,UAAI,KAAK,GAAG,eAAc,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;AAC1C,UAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;AACjC,UAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE;AACnB,aAAK,CAAC,KAAK,GAAG,SAAS,CAAC;AACxB,mBAAW,GAAG,gCAAgC,CAAC;OAChD;;AAED,aACE;;UAAK,KAAK,EAAE;AACR,sBAAU,EAAE,EAAE;AACd,wBAAY,EAAE,EAAE;AAChB,uBAAW,EAAE,EAAE;WAChB,AAAC;QACF;AACE,cAAI,EAAC,MAAM;AACX,aAAG,EAAC,UAAU;AACd,oBAAU,MAAA;AACV,kBAAQ,MAAA;AACR,eAAK,EAAE,KAAK,AAAC;AACb,eAAK,EAAE,WAAW,AAAC;AACnB,iBAAO,EAAE,IAAI,CAAC,UAAU,AAAC;UACzB;QACF;AACE,aAAG,EAAC,uBAAuB;AAC3B,eAAK,EAAE;AACL,kBAAM,EAAE,EAAE;AACV,iBAAK,EAAE,EAAE;AACT,kBAAM,EAAE,CAAC;AACT,kBAAM,EAAE,SAAS;WAClB,AAAC;AACF,iBAAO,EAAE,IAAI,CAAC,mBAAmB,AAAC;UAClC;OACE,CACN;KACH;;;WAEe,4BAAG;;;AACjB,aACE;AACE,YAAI,EAAC,MAAM;AACX,aAAK,EAAE,eAAc,EAAE,EAAE,MAAM,CAAC,GAAG,EAAE;AACnC,eAAK,EAAE,GAAG;AACV,mBAAS,EAAE,CAAC;SACb,CAAC,AAAC;AACH,YAAI,EAAC,WAAW;AAChB,WAAG,EAAC,WAAW;AACf,gBAAQ,EAAE,YAAM;AACd,iBAAK,QAAQ,CAAC,EAAC,MAAM,EAAE,KAAK,CAAC,WAAW,CAAC,OAAK,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,EAAC,CAAC,CAAC;SACvE,AAAC;AACF,oBAAY,EAAE,IAAI,AAAC;QACnB,CACF;KACH;;;iBAEA,QAAQ;WACC,sBAAG;AACX,WAAK,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC;KAChD;;;iBAEA,QAAQ;WACU,+BAAG;AACpB,UAAI,CAAC,UAAU,EAAE,CAAC;AAClB,cAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAC7B,aAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;KACxC;;;WAEqB,kCAAG;;AAEvB,aACE;AACE,WAAG,EAAC,cAAc;AAClB,WAAG,EAAC,cAAc;AAClB,aAAK,EAAE,eAAc,EAAE,EAAE,MAAM,CAAC,GAAG,EAAE;AACnC,kBAAQ,EAAE,QAAQ;SACnB,CAAC,AAAC;AACH,+BAAuB,EAAE,EAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,EAAC,AAAC,GAAG,CAChE;KACH;;;WAEK,kBAAG;;AAEP,aACE;;UAAK,KAAK,EAAE;AACR,mBAAO,EAAE,MAAM;AACf,yBAAa,EAAE,QAAQ;AACvB,sBAAU,EAAE,YAAY;WAC3B,AAAC;QACA;;YAAK,KAAK,EAAE;AACR,wBAAU,EAAE,CAAC;AACb,sBAAQ,EAAE,CAAC;aACd,AAAC;UACA;;cAAK,KAAK,EAAE;AACR,uBAAO,EAAE,MAAM;AACf,6BAAa,EAAE,KAAK;AACpB,0BAAU,EAAE,YAAY;eAC3B,AAAC;YACA,6BAAK,GAAG,EAAC,oBAAoB,EAAC,KAAK,EAAE;AACjC,sBAAM,EAAE,EAAE;AACV,qBAAK,EAAE,EAAE;AACT,0BAAU,EAAE,EAAE;AACd,yBAAS,EAAE,EAAE;AACb,sBAAM,EAAE,SAAS;eACpB,AAAC,EAAC,OAAO,EAAE,YAAM;AAChB,uBAAO,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,wBAAwB,CAAC,CAAC;eACzD,AAAC,GAAG;YACJ,IAAI,CAAC,cAAc,EAAE;WAClB;UACL,IAAI,CAAC,UAAU,EAAE;UAClB;;cAAK,KAAK,EAAE;AACR,uBAAO,EAAE,MAAM;AACf,6BAAa,EAAE,KAAK;AACpB,0BAAU,EAAE,YAAY;eACzB,AAAC;YACD,IAAI,CAAC,sBAAsB,EAAE;YAC9B;;gBAAM,KAAK,EAAE;AACT,6BAAW,EAAE,CAAC;AACd,8BAAY,EAAE,CAAC;AACf,4BAAU,EAAE,CAAC;iBAChB,AAAC;;aAAU;YACX,IAAI,CAAC,gBAAgB,EAAE;WACpB;SACF;QACL,IAAI,CAAC,sBAAsB,EAAE;OAC1B,CACN;KAEH;;;WAEa,0BAAG;AACf,aACE;AAAC,qBAAa;UAAC,KAAK,EAAE;AAClB,qBAAS,EAAE,EAAE;AACb,wBAAY,EAAE,EAAE;AAChB,uBAAW,EAAE,EAAE;AACf,sBAAU,EAAE,CAAC;WAChB,AAAC;QACA;AAAC,gBAAM;YAAC,MAAM,EAAC,QAAQ,EAAC,MAAM,MAAA,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,AAAC;;SAAiB;QAC1E;AAAC,gBAAM;YAAC,MAAM,EAAC,QAAQ,EAAC,MAAM,MAAA,EAAC,OAAO,EAAE,IAAI,CAAC,YAAY,AAAC;;SAAkB;QAC5E;AAAC,gBAAM;YAAC,MAAM,EAAC,QAAQ,EAAC,MAAM,MAAA;;SAAiB;OACjC,CAChB;;;;;;;;;;KAWH;;;WAEqB,kCAAG;;AAEvB,UAAI,oBAAoB,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC;AAC3D,UAAI,UAAU,GAAG;AACf,cAAM,EAAE,oBAAoB;AAC5B,gBAAQ,EAAE,CAAC,oBAAoB;OAChC,CAAC;;AAEF,aACE;AAAC,qBAAa;UAAC,KAAK,EAAE;AAClB,sBAAU,EAAE,EAAE;AACd,wBAAY,EAAE,EAAE;WACnB,AAAC;QACA;AAAC,gBAAM;qBAAC,MAAM,EAAC,OAAO,IAAK,UAAU,IAAE,OAAO,EAAE,IAAI,CAAC,uBAAuB,AAAC;;SAA0B;QACvG;AAAC,gBAAM;qBAAC,MAAM,EAAC,OAAO,IAAK,UAAU,IAAE,OAAO,EAC1C,IAAI,CAAC,oBAAoB,AAAC;;SAAuB;QACnD;AAAC,gBAAM;qBAAC,MAAM,EAAC,OAAO,IAAK,UAAU,IAAE,OAAO,EAAE,IAAI,CAAC,YAAY,AAAC;;SAAmB;OACzE,CAChB;KACH;;;iBAEA,QAAQ;WACE,uBAAG;AACZ,cAAQ,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;KACpE;;;iBAEA,QAAQ;WACG,wBAAG;AACb,cAAQ,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;KACrE;;;iBAEA,QAAQ;WACc,mCAAG;;;AACxB,UAAI,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE;AACjC,eAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;AACtC,YAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,CAAC;AAC/C,YAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,2BAA2B,EAAE,CAAC,IAAI,CAAC,YAAM;AACrE,iBAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;SACtC,EAAE,UAAC,GAAG,EAAK;AACV,iBAAO,CAAC,KAAK,CAAC,+BAA+B,CAAC,CAAC;AAC/C,iBAAK,eAAe,CAAC,+BAA+B,CAAC,CAAC;SACvD,CAAC,CAAC;OACJ,MAAM;AACL,eAAO,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;AACzC,YAAI,CAAC,eAAe,CAAC,yCAAyC,CAAC,CAAC;OACjE;KACF;;;iBAEA,QAAQ;WACW,gCAAG;;;AACrB,UAAI,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE;AACjC,eAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;AACnC,YAAI,CAAC,eAAe,CAAC,qBAAqB,CAAC,CAAC;AAC5C,YAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,wBAAwB,EAAE,CAAC,IAAI,CAAC,YAAM;AAClE,iBAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;SACjC,EAAE,UAAC,GAAG,EAAK;AACV,iBAAO,CAAC,KAAK,CAAC,4BAA4B,CAAC,CAAC;AAC5C,iBAAK,eAAe,CAAC,4BAA4B,CAAC,CAAC;SACpD,CAAC,CAAC;OACJ,MAAM;AACL,eAAO,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;AACtC,YAAI,CAAC,eAAe,CAAC,sCAAsC,CAAC,CAAC;OAC9D;KACF;;;iBAEA,QAAQ;WACG,wBAAG;AACb,aAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AACnE,cAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;KACxF;;;iBAGA,QAAQ;WACU,6BAAC,IAAI,EAAE;AACxB,UAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,GAAI,UAAU,CAAC,IAAI,CAAC,CAAC;AACpE,UAAI,CAAC,uBAAuB,EAAE,CAAC;KAChC;;;iBAEA,QAAQ;WACc,mCAAG;AACxB,UAAI,CAAC,QAAQ,CAAC,EAAC,YAAY,EAAE,oBAAoB,GAAG,IAAI,CAAC,iBAAiB,GAAG,QAAQ,EAAC,CAAC,CAAC;AACxF,UAAI,CAAC,2BAA2B,EAAE,CAAC;KACpC;;;iBAEA,QAAQ;WACY,+BAAC,IAAI,EAAE;AAC1B,UAAI,CAAC,iBAAiB,IAAI,wBAAwB,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC;AAClF,UAAI,CAAC,uBAAuB,EAAE,CAAC;KAChC;;;iBAEA,QAAQ;WACM,yBAAC,IAAI,EAAE;AACpB,UAAI,CAAC,iBAAiB,IAAI,wBAAwB,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;AACjF,UAAI,CAAC,uBAAuB,EAAE,CAAC;KAChC;;;iBAEA,QAAQ;WACkB,uCAAG;AAC5B,UAAI,EAAE,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AACnD,QAAE,CAAC,SAAS,GAAG,EAAE,CAAC,YAAY,CAAC;KAChC;;;iBAEA,QAAQ;WACoB,yCAAG;AAC9B,UAAI,EAAE,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AACrD,QAAE,CAAC,SAAS,GAAG,EAAE,CAAC,YAAY,CAAC;KAChC;;;iBAEA,QAAQ;6BACc,WAAC,GAAG,EAAE,IAAI,EAAE;;;AAEjC,UAAI,CAAC,GAAG,EAAE;AACR,eAAO,CAAC,GAAG,CAAC,qCAAqC,CAAC,CAAC;AACnD,eAAO,IAAI,CAAC;OACb;;AAED,UAAI,GAAG,IAAI,IAAI,EAAE,CAAC;AAClB,UAAI,WAAW,GAAG,OAAO,CAAC,yBAAyB,CAAC,CAAC;AACrD,UAAI,EAAE,GAAG,MAAM,WAAW,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;;AAE7C,UAAI,CAAC,QAAQ,CAAC,EAAC,aAAa,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAC,CAAC,CAAC;;AAEzD,UAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;;AAE9B,QAAE,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;AAC1C,QAAE,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;AAC5C,QAAE,CAAC,EAAE,CAAC,aAAa,EAAE,YAAM;AACzB,eAAK,QAAQ,CAAC,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC;AAClC,eAAK,kBAAkB,EAAE,CAAC;AAC1B,eAAK,eAAe,CAAC,cAAc,CAAC,CAAC;OACtC,CAAC,CAAC;;AAEH,QAAE,CAAC,EAAE,CAAC,gBAAgB,EAAE,YAAM;AAC5B,eAAK,QAAQ,CAAC,EAAC,aAAa,EAAE,IAAI,EAAC,CAAC,CAAC;AACrC,eAAK,kBAAkB,EAAE,CAAC;AAC1B,eAAK,eAAe,CAAC,iBAAiB,CAAC,CAAC;OACzC,CAAC,CAAC;;AAEH,UAAI,CAAC,QAAQ,CAAC,EAAC,kBAAkB,EAAE,IAAI,CAAC,mBAAmB,EAAC,CAAC,CAAC;;AAE9D,QAAE,CAAC,UAAU,EAAE,CAAC;;AAEhB,aAAO,EAAE,CAAC;KACX;;;WAEgB,6BAAG;AAClB,UAAI,CAAC,iBAAiB,CAAC;AACrB,YAAI,EAAE,iCAAiC;OACxC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;KACrC;;;WAEiB,8BAAG;AACnB,UAAI,IAAI,CAAC,KAAK,CAAC,aAAa,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;AACrD,YAAI,CAAC,wBAAwB,EAAE,CAAC;OACjC;KACF;;;SAlWG,GAAG;GAAS,KAAK,CAAC,SAAS;;AAoWhC,CAAC;;AAEF,IAAI,MAAM,GAAG;;AAEX,KAAG,EAAE;AACH,SAAK,EAAE,MAAM;AACb,cAAU,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,WAAW,CAAC;AAC7C,YAAQ,EAAE,EAAE;AACZ,eAAW,EAAE,CAAC;AACd,eAAW,EAAE,SAAS;AACtB,eAAW,EAAE,OAAO;AACpB,qBAAiB,EAAE,CAAC;AACpB,eAAW,EAAE,EAAE;AACf,gBAAY,EAAE,EAAE;GACjB;;AAED,YAAU,EAAE;AACV,WAAO,EAAE,cAAc;AACvB,SAAK,EAAE,MAAM;AACb,eAAW,EAAE,EAAE;AACf,cAAU,EAAE,MAAM;AAClB,YAAQ,EAAE,EAAE;GACb;;AAED,KAAG,EAAE;AACH,eAAW,EAAE,CAAC;AACd,gBAAY,EAAE,CAAC;AACf,cAAU,EAAE,CAAC;AACb,iBAAa,EAAE,CAAC;AAChB,SAAK,EAAE,GAAG;AACV,SAAK,EAAE,SAAS;AAChB,YAAQ,EAAE,EAAE;AACZ,cAAU,EAAE,CAAC,gBAAgB,EAAE,WAAW,EAAE,OAAO,EAAE,YAAY,CAAE;GACpE;;AAED,UAAQ,EAAE;AACR,SAAK,EAAE,cAAc,CAAC,IAAI;AAC1B,cAAU,EAAE,CAAC,gBAAgB,EAAE,WAAW,EAAE,OAAO,EAAE,SAAS,EAAE,YAAY,CAAC;AAC7E,YAAQ,EAAE,EAAE;AACZ,cAAU,EAAE,GAAG;AACf,iBAAa,EAAE,GAAG;AAClB,cAAU,EAAE,EAAE;AACd,mBAAe,EAAE,OAAO;AACxB,iBAAa,EAAE,WAAW;GAC3B;;CAEF,CAAC;;AAEF,MAAM,CAAC,EAAE,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;AAC7B,SAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACtB,CAAA;;AAED,MAAM,CAAC,EAAE,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;AAC7B,SAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACxB,CAAA;;AAGD,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC","file":"web/App.js","sourcesContent":["let React = require('react');\n\nlet autobind = require('autobind-decorator');\nlet escapeHtml = require('escape-html');\n\nlet Commands = require('./Commands');\nlet MainMenu = require('./MainMenu');\nlet StyleConstants = require('./StyleConstants');\n\nlet Button = require('react-bootstrap/lib/Button');\nlet ButtonToolbar = require('react-bootstrap/lib/ButtonToolbar');\n\nfunction escapeAndPre(s) {\n  return escapeHtml(s).replace(/(?:\\r\\n|\\r|\\n)/g, '<br />').replace(/ /g, '\\u00a0');\n}\n\nclass App extends React.Component {\n\n  constructor() {\n    super();\n    this.state = {\n      packagerController: null,\n      packagerLogs: '',\n      packagerErrors: '',\n      url: null,\n      http: false,\n      hostType: 'ngrok',\n      dev: true,\n      minify: false,\n      sendInput: null,\n    }\n\n    this._packagerLogsHtml = '';\n    this._packagerLogs = '';\n    this._packageErrors = '';\n    global._App = this;\n  }\n\n  async _recomputeUrlAsync() {\n    let pc = this.state.packagerController;\n    let opts = {\n      http: this.state.http,\n      ngrok: (this.state.hostType === 'ngrok'),\n      lan: (this.state.hostType === 'lan'),\n      localhost: (this.state.hostType === 'localhost'),\n      dev: this.state.dev,\n      minify: this.state.minify,\n    };\n    return await pc.getUrlAsync(opts);\n  }\n\n  _recomputeUrlAndSetState() {\n    this._recomputeUrlAsync().then((computedUrl) => {\n      console.log(\"computedUrl=\", computedUrl);\n      this.setState({url: computedUrl});\n    }, (err) => {\n      console.error(\"Couldn't compute URL:\", err);\n    });\n  }\n\n  _renderUrl() {\n\n    let style = Object.assign({}, Styles.url);\n    let displayText = this.state.url;\n    if (!this.state.url) {\n      style.color = '#dddddd';\n      displayText = \"Starting packager and ngrok...\";\n    }\n\n    return (\n      <div style={{\n          marginLeft: 15,\n          marginBottom: 10,\n          marginRight: 10,\n        }}>\n        <input\n          type=\"text\"\n          ref=\"urlInput\"\n          controlled\n          readOnly\n          style={style}\n          value={displayText}\n          onClick={this._selectUrl}\n        />\n        <img\n          src=\"./Clipboard-21x21.png\"\n          style={{\n            height: 21,\n            width: 21,\n            margin: 5,\n            cursor: 'pointer',\n          }}\n          onClick={this._copyUrlToClipboard}\n        />\n      </div>\n    );\n  }\n\n  _renderSendInput() {\n    return (\n      <input\n        type=\"text\"\n        style={Object.assign({}, Styles.url, {\n          width: 202,\n          marginTop: 2,\n        })}\n        name=\"sendInput\"\n        ref=\"sendInput\"\n        onChange={() => {\n          this.setState({sendTo: React.findDOMNode(this.refs.sendInput).value});\n        }}\n        defaultValue={null}\n      />\n    );\n  }\n\n  @autobind\n  _selectUrl() {\n    React.findDOMNode(this.refs.urlInput).select();\n  }\n\n  @autobind\n  _copyUrlToClipboard() {\n    this._selectUrl();\n    document.execCommand('copy');\n    console.log(\"Copied URL to clipboard\");\n  }\n\n  _renderPackagerConsole() {\n\n    return (\n      <div\n        ref=\"packagerLogs\"\n        key=\"packagerLogs\"\n        style={Object.assign({}, Styles.log, {\n          overflow: 'scroll',\n        })}\n        dangerouslySetInnerHTML={{__html: this.state.packagerLogs}} />\n    );\n  }\n\n  render() {\n\n    return (\n      <div style={{\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'flex-start',\n      }}>\n        <div style={{\n            flexShrink: 0,\n            flexGrow: 0,\n        }}>\n          <div style={{\n              display: 'flex',\n              flexDirection: 'row',\n              alignItems: 'flex-start',\n          }}>\n            <img src=\"./ExponentIcon.png\" style={{\n                height: 36,\n                width: 36,\n                marginLeft: 15,\n                marginTop: 10,\n                cursor: 'pointer',\n            }} onClick={() => {\n              require('shell').openExternal('http://exponentjs.com/');\n            }} />\n            {this._renderButtons()}\n          </div>\n          {this._renderUrl()}\n          <div style={{\n              display: 'flex',\n              flexDirection: 'row',\n              alignItems: 'flex-start',\n            }}>\n            {this._renderAdvancedButtons()}\n            <span style={{\n                paddingLeft: 6,\n                paddingRight: 6,\n                paddingTop: 6,\n            }}>to</span>\n            {this._renderSendInput()}\n          </div>\n        </div>\n        {this._renderPackagerConsole()}\n      </div>\n    );\n\n  }\n\n  _renderButtons() {\n    return (\n      <ButtonToolbar style={{\n          marginTop: 10,\n          marginBottom: 10,\n          marginRight: 10,\n          marginLeft: 3,\n      }}>\n        <Button bsSize='medium' active onClick={this._newClicked}>New Exp</Button>\n        <Button bsSize='medium' active onClick={this._openClicked}>Open Exp</Button>\n        <Button bsSize='medium' active>Publish</Button>\n      </ButtonToolbar>\n    );\n\n    /*\n    <Button bsSize='medium' disabled style={{\n        background: 'green',\n    }}>Packager Active</Button>\n    <Button bsSize='medium' active>Button</Button>\n    <Button bsStyle='primary' bsSize='medium' active>Primary button</Button>\n    <Button bsSize='medium' active>Button</Button>\n    */\n\n  }\n\n  _renderAdvancedButtons() {\n\n    let restartButtonsActive = !!this.state.packagerController;\n    let activeProp = {\n      active: restartButtonsActive,\n      disabled: !restartButtonsActive,\n    };\n\n    return (\n      <ButtonToolbar style={{\n          marginLeft: 10,\n          marginBottom: 10,\n      }}>\n        <Button bsSize='small' {...activeProp} onClick={this._restartPackagerClicked}>Restart Packager</Button>\n        <Button bsSize='small' {...activeProp} onClick={\n            this._restartNgrokClicked}>Restart ngrok</Button>\n          <Button bsSize='small' {...activeProp} onClick={this._sendClicked}>Send Link</Button>\n      </ButtonToolbar>\n    );\n  }\n\n  @autobind\n  _newClicked() {\n    Commands.newExpAsync().then(this._runPackagerAsync, console.error);\n  }\n\n  @autobind\n  _openClicked() {\n    Commands.openExpAsync().then(this._runPackagerAsync, console.error);\n  }\n\n  @autobind\n  _restartPackagerClicked() {\n    if (this.state.packagerController) {\n      console.log(\"Restarting packager...\");\n      this._logMetaMessage(\"Restarting packager...\");\n      this.state.packagerController.startOrRestartPackagerAsync().then(() => {\n        console.log(\"Packager restarted :)\");\n      }, (err) => {\n        console.error(\"Failed to restart packager :(\");\n        this._logMetaMessage(\"Failed to restart packager :(\");\n      });\n    } else {\n      console.error(\"No packager to restart!\");\n      this._logMetaMessage(\"Packager not running; can't restart it.\");\n    }\n  }\n\n  @autobind\n  _restartNgrokClicked() {\n    if (this.state.packagerController) {\n      console.log(\"Restarting ngrok...\");\n      this._logMetaMessage(\"Restarting ngrok...\");\n      this.state.packagerController.startOrRestartNgrokAsync().then(() => {\n        console.log(\"ngrok restarted.\");\n      }, (err) => {\n        console.error(\"Failed to restart ngrok :(\");\n        this._logMetaMessage(\"Failed to restart ngrok :(\");\n      });\n    } else {\n      console.error(\"No ngrok to restart!\");\n      this._logMetaMessage(\"ngrok not running; can't restart it.\");\n    }\n  }\n\n  @autobind\n  _sendClicked() {\n    console.log(\"Send link:\", this.state.url, \"to\", this.state.sendTo);\n    Commands.sendAsync(this.state.sendTo, this.state.url).then(console.log, console.error);\n  }\n\n\n  @autobind\n  _appendPackagerLogs(data) {\n    this._packagerLogsHtml = this._packagerLogsHtml +  escapeHtml(data);\n    this._updatePackagerLogState();\n  }\n\n  @autobind\n  _updatePackagerLogState() {\n    this.setState({packagerLogs: '<pre class=\"logs\">' + this._packagerLogsHtml + '</pre>'});\n    this._scrollPackagerLogsToBottom();\n  }\n\n  @autobind\n  _appendPackagerErrors(data) {\n    this._packagerLogsHtml += '<span class=\"log-err\">' + escapeHtml(data) + '</span>';\n    this._updatePackagerLogState();\n  }\n\n  @autobind\n  _logMetaMessage(data) {\n    this._packagerLogsHtml += '<div class=\"log-meta\">' + escapeHtml(data) + '</div>';\n    this._updatePackagerLogState();\n  }\n\n  @autobind\n  _scrollPackagerLogsToBottom() {\n    let ta = React.findDOMNode(this.refs.packagerLogs);\n    ta.scrollTop = ta.scrollHeight;\n  }\n\n  @autobind\n  _scrollPackagerErrorsToBottom() {\n    let ta = React.findDOMNode(this.refs.packagerErrors);\n    ta.scrollTop = ta.scrollHeight;\n  }\n\n  @autobind\n  async _runPackagerAsync(env, args) {\n\n    if (!env) {\n      console.log(\"Not running packager with empty env\");\n      return null;\n    }\n\n    args = args || {};\n    let runPackager = require('../commands/runPackager');\n    let pc = await runPackager.runAsync(env, {});\n\n    this.setState({packagerReady: false, ngrokReady: false});\n\n    this._packagerController = pc;\n\n    pc.on('stdout', this._appendPackagerLogs);\n    pc.on('stderr', this._appendPackagerErrors);\n    pc.on('ngrok-ready', () => {\n      this.setState({ngrokReady: true});\n      this._maybeRecomputeUrl();\n      this._logMetaMessage(\"ngrok ready.\");\n    });\n\n    pc.on('packager-ready', () => {\n      this.setState({packagerReady: true});\n      this._maybeRecomputeUrl();\n      this._logMetaMessage(\"Packager ready.\");\n    });\n\n    this.setState({packagerController: this._packagerController});\n\n    pc.startAsync();\n\n    return pc;\n  }\n\n  componentDidMount() {\n    this._runPackagerAsync({\n      root: '/Users/ccheever/tmp/icecubetray',\n    }).then(console.log, console.error);\n  }\n\n  _maybeRecomputeUrl() {\n    if (this.state.packagerReady && this.state.ngrokReady) {\n      this._recomputeUrlAndSetState();\n    }\n  }\n\n};\n\nlet Styles = {\n\n  log: {\n    width: '100%',\n    fontFamily: ['Menlo', 'Courier', 'monospace'],\n    fontSize: 11,\n    borderWidth: 1,\n    borderColor: '#888888',\n    borderStyle: 'solid',\n    borderBottomWidth: 0,\n    paddingLeft: 15,\n    paddingRight: 15,\n  },\n\n  logHeaders: {\n    display: 'inline-block',\n    width: '100%',\n    paddingLeft: 15,\n    fontWeight: 'bold',\n    fontSize: 13,\n  },\n\n  url: {\n    paddingLeft: 4,\n    paddingRight: 4,\n    paddingTop: 2,\n    paddingBottom: 2,\n    width: 521,\n    color: '#888888',\n    fontSize: 13,\n    fontFamily: ['Helvetica Neue', 'Helvetica', 'Arial', 'Sans-serif',],\n  },\n\n  logotype: {\n    color: StyleConstants.navy,\n    fontFamily: ['Helvetica Neue', 'Helvetica', 'Arial', 'Verdana', 'sans-serif'],\n    fontSize: 18,\n    fontWeight: 200,\n    letterSpacing: 4.5,\n    lineHeight: 20,\n    backgroundColor: 'yellw',\n    textTransform: 'uppercase',\n  },\n\n};\n\nglobal.cl = function (a, b, c) {\n  console.log(a, b, c);\n}\n\nglobal.ce = function (a, b, c) {\n  console.error(a, b, c);\n}\n\n\nmodule.exports = App;\n"],"sourceRoot":"/source/"}